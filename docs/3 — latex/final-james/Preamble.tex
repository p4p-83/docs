% -------------------------- Hyperlinks Settings --------------------------
\usepackage{xcolor} % Colours for hyperref package
% Define links colour
\newcommand{\linksColour}{black}
% hyperref package
\usepackage[colorlinks = true,linkcolor = \linksColour, citecolor = \linksColour, urlcolor = blue ,bookmarksnumbered=true,bookmarksopen = true,bookmarksopenlevel = 1]{hyperref}
% ------------------------------------------------------------------------------

% -------------------- Header and Footer Settings --------------------
% Header and footer
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{} 	             % clear the default header
\fancyfoot{}                % clear the default footer
\fancyfoot[C]{\footnotesize\thepage}     % page number in the middle
\renewcommand{\headrulewidth}{0.0pt}  % remove the default header line

% Header and footer of automatically generated pages (e.g. TOC)
% Change to match main document
\fancypagestyle{plain}{
	\fancyhead{}
	\fancyfoot{}
	\fancyfoot[C]{\footnotesize\thepage}
	\renewcommand{\headrulewidth}{0pt}}

% ------------------------------------------------------------------------------

% ------------------------ Title Page Box Settings -------------------------
% settings for the text box on the front page
\newcommand\HRule{\noindent\rule{\linewidth}{0.5pt}}
% ------------------------------------------------------------------------------


% -------------------------- Figures Settings -----------------------------
% Redefine how latex deals with figure placement
\renewcommand{\topfraction}{.85}
\renewcommand{\bottomfraction}{.7}
\renewcommand{\textfraction}{.15}
\renewcommand{\floatpagefraction}{.66}
\renewcommand{\dbltopfraction}{.66}
\renewcommand{\dblfloatpagefraction}{.66}
% ------------------------------------------------------------------------------


% ------------------------------ TOC Settings --------------------------------

% Adding dots to sections in table of contents
\usepackage{tocloft}
\renewcommand{\cftloftitlefont}{\large\bfseries}
\renewcommand{\cftlottitlefont}{\large\bfseries}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
% Adding the word Figure in list of figures
\renewcommand*\cftfigpresnum{Figure~}
\settowidth{\cftfignumwidth}{\cftfigpresnum}
\renewcommand{\cftfigaftersnumb}{\qquad}
% Adding the word Table in list of figures
\renewcommand*\cfttabpresnum{Table~}
\settowidth{\cfttabnumwidth}{\cfttabpresnum}
\renewcommand{\cfttabaftersnumb}{\qquad}
% ------------------------------------------------------------------------------

% Changing the rules for hyphenation (DON"T CHANGE THIS)
\usepackage{everysel}
\EverySelectfont{%
	\fontdimen2\font=0.4em% interword space
	\fontdimen3\font=0.2em% interword stretch
	\fontdimen4\font=0.1em% interword shrink
	\fontdimen7\font=0.1em% extra space
	\hyphenchar\font=`\-% to allow hyphenation
}

% -------------------- Formatting Section Titles ------------------------
% Shrinking the space after headers
\usepackage[clearempty]{titlesec} % loaded with a setting for automatically generated empty pages to be completely blank
\beforetitleunit = 1pt
\aftertitleunit = 1pt
% specifying the spacing before and after the titles (note \parskip = 9pts)
\titlespacing{\section}{0pt}{*9}{*9}	% for 18 pt space
\titlespacing{\subsection}{0pt}{*3}{*3}	% for 12 pt space
\titlespacing{\subsubsection}{0pt}{*3}{*3}	% for 12 pt space
% specifying the title fomatting
\titleformat{\section} {\normalfont\fontsize{14}{14}\bfseries}{\thesection.}{1em}{}
\titleformat{\subsection} {\normalfont\fontsize{12}{12}\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection} {\normalfont\fontsize{12}{12}\it}{\thesubsubsection}{1em}{}

\makeatletter
\renewcommand{\paragraph}{%
	\@startsection{paragraph}{4}%
	{\z@}{1ex \@plus 1ex \@minus .2ex}{-1em}%
	{\normalfont\normalsize\bfseries}%
}
\makeatother

% Modifyong how appendices look (title and toc)
\usepackage[titletoc,title]{appendix}
% ------------------------------------------------------------------------------

% ------------------------- Nomenclature Settings ------------------------

\def\nompreamble{\addcontentsline{toc}{section}{\nomname}\markboth{\nomname}{\nomname}}
% cutomising nomenclature groups
\usepackage{ifthen}
\renewcommand{\nomgroup}[1]{
	\ifthenelse{\equal{#1}{A}}{\item[\textbf{Symbols}]}{%
		\ifthenelse{\equal{#1}{G}}{\item[\textbf{Greek Symbols}]}{}
	}% matches Greek Symbols
}% matches Roman Symbols

% unit column in nomenclature
\newcommand{\nomunit}[1]{\renewcommand{\nomentryend}{\hspace*{\fill}#1}}

% ------------------------------------------------------------------------------

% -------------------------- Miscellaneous Settings ----------------------------

% disable automatic date printing (otherwise will mess with the title page)
\date{}
\usepackage{babel}% http://ctan.org/pkg/babel
\usepackage{isodate}% http://ctan.org/pkg/isodate

\usepackage{cite}     % Group sequential citations

%\usepackage{keystroke} % Keyboard symbols 
\usepackage{breakurl}    % break long urls (not sure if it works by default)
\urlstyle{rm}	                  % Change url fonts to match report font

% to allow page breaks within equations
\allowdisplaybreaks

% force footnotes to be always at the bottom of the page
\usepackage[bottom]{footmisc}

% For tables with merged rows
\usepackage{multirow}

\usepackage[labelfont={bf,footnotesize},textfont={footnotesize}, labelsep = quad]{caption}

\usepackage{siunitx}
\DeclareSIUnit\px{px}
\DeclareSIUnit\megapixel{MP}
\sisetup{output-exponent-marker=\ensuremath{\mathrm{e}}}

% load listings package for code envirnments
\usepackage{listings}%%
%% Julia definition (c) 2014 Jubobs
%%
\lstdefinelanguage{Julia}%
{morekeywords={abstract,begin,break,case,catch,const,continue,do,else,elseif,%
			end,export,false,for,function,immutable,import,importall,if,in,%
			macro,module,otherwise,quote,return,switch,true,try,type,typealias,%
			using,while},%
	sensitive=true,%
	alsoother={$},%
	morecomment=[l]\#,%
	morecomment=[n]{\#=}{=\#},%
	morestring=[s]{"}{"},%
	morestring=[m]{'}{'},%
}[keywords,comments,strings]%

\lstset{%
	language         = Julia,
	basicstyle       = \ttfamily,
	keywordstyle     = \bfseries\color{blue},
	stringstyle      = \color{magenta},
	commentstyle     = \color{ForestGreen},
	showstringspaces = false,
}
\usepackage{protobuf/lang}  % include language definition for protobuf
\usepackage{protobuf/style} % include custom style for proto declarations.
% ------------------------------------------------------------------------------

\usepackage{menukeys} % for menu instructions

\newenvironment{conditions}
{\par\noindent
	\begin{tabular}{>{$}l<{$} @{} >{${}}c<{{}$} @{} l}}
		{\end{tabular}\par}

\usepackage{tabularx}
\newenvironment{conditions*}
{\par\noindent
\tabularx{\columnwidth}{>{$}l<{$} @{}>{${}}c<{{}$}@{} >{\raggedright\arraybackslash}X}}
{\endtabularx\par}

\usepackage{subfig}